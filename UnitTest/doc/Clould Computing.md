## 云计算简介

### 1. 发展背景

&emsp; 在大多数情况下，托管在组织内部的单片应用程序的时代已经结束了。在当今的开发世界中，应用程序趋向于去集中化和分解为可重用的服务。为了提高性能，应用程序不再以使用串行处理的方式开发，而是利用多线程和并行处理来提高性能速度和可伸缩性。花费数年时间进行大型更新和发布的趋势已经让位给更频繁、通常更小的更新。许多组织已经采用了持续集成和持续部署。
&emsp; 老派的开发人员投入了大量的时间来构建和测试解决方案，以确保它们不会失败。成功的度量是平均失败间隔时间(MTBF)。这已经让位于一种理解失败将会发生的心态，并因此专注于通过为失败设计来处理它。焦点已经从试图避免所有的错误和问题转移到度量修复可能发生的问题的平均时间(MTTR)。
&emsp; 云计算的出现以及云提供商提供的特性和服务，使这些开发领域的变化更加大胆。开发人员利用云的能力已经变得很容易，而且在大多数情况下，具有成本效益。
&emsp; 云计算基于Web 2.0的面向服务架构(service oriented architecture, SOA)以及硬件和软件资源的虚拟化。由于采用了虚拟化技术，物理资源可以动态链接到不同的应用程序上运行操作系统。由于采用了虚拟化技术，物理资源可以在所有用户之间共享，并且可以进行有效的资源管理，从而提供更高的资源利用率和随需应变的可伸缩性。资源利用率的提高降低了建筑面积成本以及电力和制冷成本。节能是云计算最吸引人的特点，也是当今环保绿色计算或绿色IT运动的新倡议。

### 2. 分类

&emsp; 根据共享和交付给客户的资源的不同，云计算有4种类型。在云计算术语中，当处理器、存储和网络等硬件作为服务交付时，称为基础设施即服务(IaaS)。IaaS的例子是Amazon的弹性云(EC2)和简单存储服务(S3)。当编程平台和工具如Java, Python, .net, MySQL和api作为服务交付时，它被称为平台即服务(PaaS)。当应用程序作为服务交付时，它被称为软件即服务(SaaS)。
&emsp; 根据租户对资源的自治理或控制程度，云有3种类型，如内部云或私有云、外部云或公共云和混合云(图1)。在私有云中，企业拥有现场的所有资源，并在多个资源之间共享应用程序。在公共云中，企业将从站点外的云提供商租用资源，这些资源将在多个租户之间共享。混合云处于中间位置，企业拥有一些资源，并从第三方租用一些其他资源。

## 云计算对软件工程带来的影响
&emsp; 在使用web服务和云平台的快速变化的计算环境中，软件开发将是非常具有挑战性的。软件开发过程将涉及到异构平台、分布式web服务、分散在世界各地的多个企业。现有的软件流程模型和框架活动是不够的，除非包括与云提供商的交互。
&emsp; 到目前为止，需求收集阶段涉及以下角色: 客户、用户和软件工程师。如今，需求收集阶段也必须包括云提供商，因为云提供商将提供和维护计算基础设施。由于云提供商只知道基础设施的规模、架构细节、虚拟化策略和资源利用率%，所以软件开发的规划和设计阶段也必须包括云提供商。借助云提供商可以解决以下问题:1)开发人员数量评估 2)组件重用 3)成本估算，4)进度估算 5)风险管理 6)配置管理 7)变更管理，8)质量保证。
&emsp; 由于web服务的组件重用，软件的规模(以千行代码(KLOC)或新开发的功能点(FP)的数量)将会减少，但由于缺少web服务及其集成需求的实现细节的文档，项目的复杂性将会增加很多倍。只有在线可用的描述是由计算机自动处理的web服务的元数据信息。
&emsp; 只有编码和测试阶段可以由软件工程师独立完成。编码和测试可以在云平台上完成，这是一个巨大的好处，因为每个人都可以方便地访问正在构建的软件。这将减少测试和验证的成本和时间。
&emsp; 但是软件开发者必须使用从云上免费获得的web服务和开源软件，而不是获取它们。软件开发人员应该在从现成的组件构建软件方面有更多的专业知识，而不是把所有的组件都写出来，然后构建一个独立的应用程序。需要对现有应用程序进行重构，以最有效地利用云基础架构。在最新的硬件技术中，计算机是多核和网络化的，软件工程师应该在并行和分布式计算方面进行训练，以补充硬件和网络技术的进步。软件工程师应该在internet协议、XML、web服务标准和internet SOA体系结构的分层分离方面进行培训，以充分利用web 2.0的所有好处。云提供商将坚持软件应该尽可能模块化，以便偶尔从一台服务器迁移到另一台服务器，以实现云提供商所要求的负载平衡。
&emsp; 维护阶段还应该包括云提供商。基础设施的维护责任从软件开发人员完全转移到了云提供商。现在，由于云提供商的参与，客户也必须与云提供商签订合同，以确保云提供商不违反“软件工程道德规范”。此外，数据的保护和安全是非常重要的，现在属于云提供商的管辖范围。
&emsp; 此外，应用程序对CPU时间或网络的偶尔较高资源使用率的要求，可能会使按使用付费的云计算模型陷入危险，因为多个应用程序可能同时需要较高的资源使用率，这是云提供商在开始时没有预料到的。特别是当应用程序部署为“软件即服务”或“SaaS”模型时，它们可能会出现事先没有预料到的偶尔的工作负载激增。
&emsp; 云提供商使用资源虚拟化技术以一种有效的方式满足许多客户的需求。为了提高资源利用率，云提供商可能需要偶尔将应用程序从一台服务器迁移到另一台服务器，或者从一个存储迁移到另一个存储。这可能会与客户产生利益冲突，因为客户希望他们的应用程序具有高可用性和可靠性的专用资源。为了避免这种冲突，云提供商需要为高优先级租户引入服务质量。
&emsp; 现在我们来分析一下云提供商和软件工程师之间的交互有多难? 软件工程师和云提供商之间的交互数量将取决于云的类型，比如公共云、私有云和混合云。在私有云中，客户可以比在公共云中进行更多的控制或自我治理。客户还应该考虑使用私有云而不是公共云来确保高优先级应用程序的可用性和可靠性。私有云的好处在于与云提供商的交互较少、自治理、高安全性、可靠性和数据可用性[图5]。但是公共云上更便宜的计算总是会超过私有云平台上更简单的SW开发带来的好处，而且会更有吸引力。
&emsp; 计划、设计、构建、测试和部署等所有阶段都需要与云提供商的代表进行交互。云提供商和SW开发人员的角色或活动是分开的，列在表1中。云平台上的资源核算将由云提供商在需求收集阶段进行。项目的软件架构、软件架构到硬件架构的映射、界面设计、数据类型设计、成本估算、进度估算等都需要与云提供商协同完成。在应用程序的构建阶段，如果集成了涉及许多不同企业的web服务，那么通过云提供商的中介可以减轻错误。与云提供商的维护合同将根据服务质量协议进行。

> 1. 算力支持: 云提供商的系统上运行应用程序和服务的能力。这使开发人员无需在自己的服务器上投资就可以获得计算能力。
> 2. 容器支持: 容器支持包括宿主和运行容器(如Docker)的能力。
> 3. 内容交付: 内容交付包括分发内容的能力，包括将对象放在云的“边缘”上。
> 4. 数据库服务: 数据库服务包括可伸缩的数据库和具有诸如SSD存储的快速访问、数据冗余、数据管道、关系访问和其他数据库系统等特性的数据库服务。
> 5. 部署: 许多云提供商还提供持续部署服务，以及创建自动部署的能力。
> 6. 机器学习: 帮助推动机器学习和人工智能的服务是许多云提供商最近增加的功能。
> 7. 管理: 随着云服务和功能的增加，控制和管理这些云服务的能力也增加了。这可以从连接到Microsoft Active Directory到配置遵从性、安全性、可伸缩性、身份验证和其他服务。
> 8. 移动服务: 移动服务提供对移动应用程序的配置，以及使用通知服务、用户认证、数据存储、推送通知、分析等移动应用程序功能的访问。
> 9. 网络: 网络服务可以包括域名服务、虚拟专用网络、负载平衡等等。
> 10. 存储: 存储是早期提供的特性之一，通常包括在存储和托管数据的同时进行私有备份和恢复的能力。这可以包括长期存储选项、高冗余存储等等。
> 11. Web站点管理: 许多云提供商也提供管理DNS服务、Web服务等功能。这还包括网络托管以及相关的功能，比如分析、数据管理等等。
> 12. 分析: 分析包括利用商业智能、分析和可视化工具的能力。
> 13. 应用程序服务: 应用程序服务包括诸如访问Web服务api等功能。这包括视频和游戏流服务，提供电子邮件、通知、工作流、短信或任何其他类型的应用程序服务。

&emsp; 使用新的极限云编程过程模型，需要一个软件度量来估计SW开发的工作量。正如美国顾问Tom DeMarco在1997年关于软件项目风险管理的书[16]中恰当地指出的那样，这个度量是必需的，“你不能控制你不能度量的东西”。建设成本估算模型(COCOMO)是目前应用最广泛的软件开发项目成本估算模型。在[12]的COCOMO模型中，到目前为止已经考虑了三类SW项目。根据SW团队的规模、他们的经验和开发(HW、SW和运营)的限制，这些SW项目被分为1)有机的，2)半分离的，3)嵌入的。我们通过一个新的面向云计算平台的SW项目扩展了这个成本估算模型。在基本的COCOMO模型中，工作量(人月)、开发时间(月)和不。所需人员的数量由以下方程给出。a(KLOC)b[人-月]开发时间= c(投入的工作量)d[月]人员数量=投入的精力/开发时间[不]
&emsp; 在本节中，我们对SW项目的云计算类的典型值a、b、c、d进行实验，以与其他类进行比较。表2列出了不同等级SW项目的系数a、b、c、d的典型值。
&emsp; 考虑到与云提供商的额外交互复杂性，对于云计算平台，ais系数增加到4。确定了云计算的系数a、b，使得努力曲线比其他3类更陡峭，但与其他3类一样是线性的。同样，确定了云计算的系数c、d，使得开发时间曲线不如其他3类陡峭，但与其他3类一样是线性的。我们将云计算中的系数a, b, c, d调整为4, 1.2, 2.5和。3。由于组件重用，使用云计算的SW开发将显著减少KLOC(千行代码)。我们推导出新的KLOC = i*C + (KLOC)*C，其中C是组件重用的百分比，i是新接口设计努力的系数调整。
&emsp; 图7绘制了对所有4类项目从10到50 KLOC变化的项目大小的SW工作估计。我们假设在云计算案例中30%的组件重用。如果能够实现更高的组件重用率，则可以降低系数a中较高的交互复杂性，有利于云计算平台的发展。图8绘制了所有4类SW项目对应的开发时间估算。基于30%的组件重用可能性，在云计算平台上开发SW将花费最少的时间。

## 云计算如何帮助改善软件开发过程

### 1. 多台服务器节省时间

使用物理服务器的开发人员被限制在一台服务器上进行开发、登台和生产，这会导致进程变慢。在云上工作的开发者可以访问无限数量的服务器、虚拟服务器或云实例; 这样就加快了他们的工作。它们独立于物理服务器，可以继续工作。

### 2. 减少IT部门依赖

对于物理环境，开发人员依赖于IT人员来提供服务器或安装所需的平台、软件等。尽管使用了响应式开发方法，但在这种情况下可能会遇到延迟。有了云计算，开发人员可以自己安装必要的软件或平台，而不依赖于IT部门。

### 3. 云计算通过调查鼓励创新

敏捷开发团队可以在需要的时候创建实例。不仅如此，当他们偶然发现一个有趣的用户故事时，他们还可以尝试使用新的实例。由于可以同时对这些实例进行编码和测试，因此不需要等待时间。开发人员可以开发实验实例并在云计算环境中测试它们。这有助于他们坚持通过实验进行创新的敏捷哲学。

### 4. 促进持续集成和持续交付

构建和自动化需要时间来开发。对于在自动化过程中没有产生结果的代码，团队将不得不反复编码和测试它们，直到看到想要的结果。随着大量虚拟机的出现，团队可以更快地修复错误。云计算加速了交付速度。因此，虚拟化增强了集成和交付。

### 6. 增加开发平台和外部服务的可访问性

开发需要几个项目管理、问题管理和自动化测试环境。这些服务大多以SaaS形式提供，包括Salesforce和Basecamp; 还有IaaS产品如AWS、OpSource、Rackspace云等，以及PaaS实例如Oracle数据库云服务和谷歌应用引擎。这些服务特别有助于开发。

### 7. 并行测试

云的另一个优势是能够创建多个环境，在这些环境中，您可以轻松地构建一个新环境，并隔离正在测试的代码版本。您可以有多个环境，其中一个开发人员测试一个功能，而另一个环境则是为另一个开发人员测试另一个功能创建的。这种安排允许多人同时处理代码的不同部分。
